/*!
 * Angular Agenttips v0.1.22
 *
 * Released under the MIT license
 * www.opensource.org/licenses/MIT
 *
 * Brought to you by 720kb.net
 *
 * 2015-08-21
 */


!function(a){"use strict";a.module("720kb.agenttips",[]).provider("agenttipsConfig",function(){var b={scroll:!1,showTrigger:"mouseover",hideTrigger:"mouseleave",hideTarget:"element",side:"top",size:"medium","try":!0,"class":"",speed:"medium",delay:0,lazy:!0,closeButton:null};this.options=function(){return 1===arguments.length&&a.extend(b,arguments[0]),a.copy(b)},this.$get=function(){return b}}).directive("agenttips",["$window","$compile","$interpolate","$interval","$sce","agenttipsConfig",function(b,c,d,e,f,g){var h=8,i=9,j=10,k=20,l="_720kb-agenttip-",m=d.startSymbol(),n=d.endSymbol();return{restrict:"A",scope:{},link:function(d,o,p){function q(){U&&D||(D=!0,d.initAgenttip(O)),Q&&d.agenttipTryPosition(),d.showAgenttip()}function r(){d.hideAgenttip()}function s(){d.hideAgenttip(),d.initAgenttip(N)}var t,u,v,w,x,y,z,A,B,C,D=!1,E=a.element(o[0]),F=a.element(b.document.getElementsByTagName("body")[0]),G=p.agenttipTitle||p.title||"",H=p.agenttipScroll||g.scroll,I=p.agenttipContent||"",J=p.agenttipHtml||"",K=p.agenttipShowTrigger||g.showTrigger,L=p.agenttipHideTrigger||g.hideTrigger,M="undefined"!=typeof p.agenttipHideTarget&&null!==p.agenttipHideTarget?p.agenttipHideTarget:g.hideTarget,N=p.agenttipSide||g.side,O=N,P=p.agenttipSize||g.size,Q="undefined"!=typeof p.agenttipTry&&null!==p.agenttipTry?d.$eval(p.agenttipTry):g["try"],R=p.agenttipClass||g["class"],S=(p.agenttipSpeed||g.speed).toLowerCase(),T=p.agenttipDelay||g.delay,U="undefined"!=typeof p.agenttipLazy&&null!==p.agenttipLazy?d.$eval(p.agenttipLazy):g.lazy,V=p.agenttipCloseButton||g.closeButton,W="undefined"!=typeof V&&null!==V,X='<div class="_720kb-agenttip '+l+P+'">';"element"!==M&&"agenttip"!==M&&(M="element"),W&&(X=X+'<span class="'+l+'close-button" ng-click="hideAgenttip()"> '+V+" </span>"),p.agenttipView&&(X=p.agenttipViewCtrl?X+'<div ng-controller="'+p.agenttipViewCtrl+'" ng-include="\''+p.agenttipView+"'\"></div>":X+"<div ng-include=\"'"+p.agenttipView+"'\"></div>"),X=X+'<div class="'+l+'title"> '+m+"title"+n+"</div>"+m+"content"+n+' <span class="'+l+'html_content" ng-bind-html="getHtml()"></span> <span class="'+l+'caret"></span></div>',d.title=G,d.content=I,d.html=J,d.getHtml=function(){return f.trustAsHtml(d.html)},d.parseSpeed=function(){switch(S){case"fast":S=100;break;case"medium":S=450;break;case"slow":S=800;break;default:S=Number(S)}},t=c(X)(d),t.addClass(R),F.append(t),d.isAgenttipEmpty=function(){return d.title||d.content||d.html?void 0:!0},d.initAgenttip=function(a){d.isAgenttipEmpty()?t.css("visibility","hidden"):(t.css("visibility","visible"),x=E[0].offsetHeight,y=E[0].offsetWidth,u=t[0].offsetHeight,v=t[0].offsetWidth,d.parseSpeed(),d.agenttipPositioning(a))},d.getOffsets=function(){z=d.getOffsetTop(E[0]),A=d.getOffsetLeft(E[0])},d.getOffsetTop=function(a){var c=a.getBoundingClientRect().top+b.scrollY;return isNaN(c)&&(c=a.getBoundingClientRect().top+b.pageYOffset),c},d.getOffsetLeft=function(a){var c=a.getBoundingClientRect().left+b.scrollX;return isNaN(c)&&(c=a.getBoundingClientRect().left+b.pageXOffset),c},d.bindShowTriggers=function(){E.bind(K,q)},d.bindHideTriggers=function(){"agenttip"===M?t.bind(L,r):E.bind(L,r)},d.clearTriggers=function(){E.unbind(K,q),E.unbind(L,r)},d.bindShowTriggers(),d.showAgenttip=function(){H&&(C=E[0].getBoundingClientRect(),B=e(function(){var b=E[0].getBoundingClientRect();a.equals(C,b)||d.agenttipPositioning(O),C=b},k)),t.addClass(l+"open"),t.css("transition","opacity "+S+"ms linear"),T&&t.css("transition-delay",T+"ms"),d.clearTriggers(),d.bindHideTriggers()},d.hideAgenttip=function(){t.css("transition","opacity "+S+"ms linear, visibility 0s linear "+S+"ms"),t.removeClass(l+"open"),d.clearTriggers(),d.bindShowTriggers(),a.isDefined(d.positionInterval)&&(e.cancel(B),B=void 0)},d.removePosition=function(){t.removeClass(l+"left").removeClass(l+"right").removeClass(l+"top").removeClass(l+"bottom ")},d.agenttipPositioning=function(a){d.removePosition(),d.getOffsets();var b,c;"small"===P?w=h:"medium"===P?w=i:"large"===P&&(w=j),"left"===a&&(b=z+x/2-u/2,c=A-(v+w),t.css("top",b+"px"),t.css("left",c+"px"),t.addClass(l+"left")),"right"===a&&(b=z+x/2-u/2,c=A+y+w,t.css("top",b+"px"),t.css("left",c+"px"),t.addClass(l+"right")),"top"===a&&(b=z-w-u,c=A+y/2-v/2,t.css("top",b+"px"),t.css("left",c+"px"),t.addClass(l+"top")),"bottom"===a&&(b=z+x+w,c=A+y/2-v/2,t.css("top",b+"px"),t.css("left",c+"px"),t.addClass(l+"bottom"))},d.agenttipTryPosition=function(){var a=t[0].offsetHeight,c=t[0].offsetWidth,e=t[0].offsetTop,f=t[0].offsetLeft,g=b.innerWidth,h=b.innerHeight,i=g-(c+f),j=h-(a+e),k=E[0].offsetHeight,l=E[0].offsetWidth,m=E[0].offsetLeft,n=E[0].offsetTop,o=g-(m+l),p=h-(k+n),q={left:f,top:e,bottom:j,right:i},r={left:m,right:o,top:n,bottom:p},s=Object.keys(r).reduce(function(a,b){return r[a]>r[b]?a:b}),u=Object.keys(q).reduce(function(a,b){return q[a]<q[b]?a:b});N!==s&&q[u]<20&&(O=s,d.agenttipPositioning(O),d.initAgenttip(s))},a.element(b).bind("resize",s),d.$on("$destroy",function(){a.element(b).unbind("resize",s),d.clearTriggers(),t.remove()}),p.agenttipTitle&&p.$observe("agenttipTitle",function(a){d.title=a,d.initAgenttip(O)}),p.title&&p.$observe("title",function(a){d.title=a,d.initAgenttip(O)}),p.agenttipContent&&p.$observe("agenttipContent",function(a){d.content=a,d.initAgenttip(O)}),p.agenttipHtml&&p.$observe("agenttipHtml",function(a){d.html=a,d.initAgenttip(O)})}}}])}(angular);
//# sourceMappingURL=angular-agenttips.sourcemap.map